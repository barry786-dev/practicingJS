!function(){"use strict";class e{constructor(e){this.coordinates=e,this.render()}render(){document.getElementById("map").innerHTML="";const e=new ol.Map({target:"map",layers:[new ol.layer.Tile({source:new ol.source.OSM})],view:new ol.View({center:ol.proj.fromLonLat([this.coordinates.lng,this.coordinates.lat]),maxZoom:18,zoom:16})}),t=new ol.layer.Vector({source:new ol.source.Vector({features:[new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([this.coordinates.lng,this.coordinates.lat]))})]})});e.addLayer(t),document.getElementById("popup")&&(this.container=document.getElementById("popup"),this.content=document.getElementById("popup-content"),this.closer=document.getElementById("popup-closer"));const o=new ol.Overlay({element:this.container,autoPan:!0,autoPanAnimation:{duration:250}});e.addOverlay(o),e.on("click",(t=>{if(!0===e.hasFeatureAtPixel(t.pixel)){const e=t.coordinate;this.content.innerHTML=`<b>${e[0]}</b><br />${e[1]}`,o.setPosition(e)}else o.setPosition(void 0),this.closer.blur()}))}}class t{constructor(t,o){new e(t),document.querySelector("header h1").textContent=o}}const o=new URL(location.href).searchParams.get("location");fetch(`http://localhost:3000/location/${o}`).then((async e=>{if(404===e.status){const t=await e.json();throw new Error(`${t.message} :>>> ${t.err}`)}return e.json()})).then((e=>{new t(e.coords,e.address)})).catch((e=>{alert(e.message)}))}();